## 出现的报错

错误信息：CMake Error at /usr/share/cmake-3.18/ Modules/ FindPackageHandleStandardArgs. cmake:165 (message): Could NOT find SWIG (missing: 3.0) (found version "4.0.2")

解决措施：遵从班级群同学发现的bug解决方案，将`src` `OpenDB` `OpenSTA`里的三个Cmake文件中的`findpackage(SWIG REQUIRED 3.0)`语句改成 `findpackage(SWIG 3.0 REQUIRED)`，顺利运行。

错误信息： fatal error: aux.h: No such file or directory
    2 | #include "aux.h"
      |          ^~~~~~~
compilation terminated.

后续在我自己安装的Ubuntu 20.04和Windows双系统的机器上又出现了一系列的报错，让人崩溃，并且Ubuntu系统自身也存在一些bug，在尝试到深夜之后，购买了腾讯云的服务器继续进行试验，第一次使用腾讯云的服务器，没有进行GitHub的网络配置，下载速度非常慢，达到“KB/s”，但最终顺利的完成了build任务，过程总体上还是比较顺利的。

下面进行iFlow的流程：

### 综合

./run_flow.py -d gcd -s synth | tee ./temp/syn.txt

首先检查综合相关的tcl脚本。

![image-20220423200000213](F:/%E5%AD%A6%E4%B9%A0/Learn-notes/image/image-20220423200000213.png)

综合的结果：

### 布局

#### floorplan

./run_flow.py -d gcd -s floorplan -p synth | tee ./temp/floorplan.txt

#### tapcell

./run_flow.py -d gcd -s tapcell -p floorplan | tee ./temp/tapcell.txt

#### PDN

./run_flow.py -d gcd -s pdn -p tapcell | tee ./temp/pdn.txt

运行过程中出现报错：

![image-20220423202333421](F:/%E5%AD%A6%E4%B9%A0/Learn-notes/image/image-20220423202333421.png)

回到前步floorplan

vim floorplan.openroad_1.2.0.tcl

调节floorplan的DIE_AREA和CORE_AREA

#### gplace

./run_flow.py -d gcd -s gplace -p pdn | tee ./temp/gplace.txt

#### resize

./run_flow.py -d gcd -s resize -p gplace | tee ./temp/resize.txt

#### dplace

./run_flow.py -d gcd -s dplace -p resize | tee ./temp/dplace.txt

### CTS

./run_flow.py -d gcd -s cts -p dplace | tee ./temp/CTS.txt

### filler

./run_flow.py -d gcd -s filler -p cts | tee ./temp/filler.txt

### 布线

#### groute

./run_flow.py -d gcd -s groute -p filler | tee ./temp/groute.txt

#### droute

./run_flow.py -d gcd -s droute -p groute | tee ./temp/droute.txt

###  版图

./run_flow.py -d gcd -s layout -p droute | tee ./temp/layout.txt

用klayout工具加在droute后输出的def文件，并同时导入design中的标准单元、IO cell以及marco的lef文件，def的结果如下图所示：

<img src="F:/%E5%AD%A6%E4%B9%A0/Learn-notes/image/image-20220423210521352.png" alt="image-20220423210521352" style="zoom: 50%;" />

用klayout gcd.gds命令打开gcd绕线后的GDS如下图所示：

<img src="F:/%E5%AD%A6%E4%B9%A0/Learn-notes/image/image-20220423205722840.png" alt="image-20220423205722840" style="zoom:50%;" />

# 更换设计

## uart

./run_flow.py -d uart -s synth,floorplan,tapcell,pdn,gplace,resize,dplace,cts,filler,groute,droute,layout -f sky130 -t HS -c TYP -v V1 -l V1 | tee ./temp/uart.txt

<img src="F:/%E5%AD%A6%E4%B9%A0/Learn-notes/image/image-20220423214050149.png" alt="image-20220423214050149" style="zoom: 33%;" />

gds如图所示：

<img src="F:/%E5%AD%A6%E4%B9%A0/Learn-notes/image/image-20220423213857208.png" alt="image-20220423213857208" style="zoom: 33%;" />

## aes_cipher_top 设计

./run_flow.py -d aes_cipher_top -s synth,floorplan,tapcell,pdn,gplace,resize,dplace,cts,filler,groute,droute,layout -f sky130 -t HS -c TYP -v V1 -l V1| tee ./temp/aes_cipher_top.txt

<img src="F:/%E5%AD%A6%E4%B9%A0/Learn-notes/image/image-20220424182657891.png" alt="image-20220424182657891" style="zoom:33%;" />

<img src="F:/%E5%AD%A6%E4%B9%A0/Learn-notes/image/image-20220424182514897.png" alt="image-20220424182514897" style="zoom:33%;" />



## picorv32 设计

./run_flow.py -d picorv32 -s synth,floorplan,tapcell,pdn,gplace,resize,dplace,cts,filler,groute,droute,layout -f sky130 -t HS -c TYP -v V1 -l V1| tee ./temp/picorv32.txt

./run_flow.py -d picorv32 -s synth,floorplan -f sky130 -t HS -c TYP -v V1 -l V1| tee ./temp/picorv32.txt

![image-20220424084259424](F:/%E5%AD%A6%E4%B9%A0/Learn-notes/image/image-20220424084259424.png)

![image-20220424113941815](F:/%E5%AD%A6%E4%B9%A0/Learn-notes/image/image-20220424113941815.png)
